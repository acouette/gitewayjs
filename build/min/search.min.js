var giteway=giteway||{};giteway.views=giteway.views||{};var ENTER_KEY=13;(function(){"use strict";function e(e,t){clearTimeout(e.tId),e.tId=setTimeout(function(){e.call(t)},100)}giteway.views.Search=Backbone.View.extend({el:"#container",template:_.template($("#repositories-header-template").html()),events:{"click #search-button":"search","keypress #keyword":"searchOnEnter"},initialize:function(){this.$input=this.$("#keyword"),this.$result=this.$("#result"),this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"request",this.request);var t=this;$(window).resize(function(){e(t.renderOnResize,this)})},renderOnResize:function(){console.log("onresize"+this.$el)},render:function(){this.$result.html(this.template());var e=$("#repo-list"),t=giteway.views.Repositories;return this.model.each(function(i){var n=new t({model:i});e.append(n.render().el)},this),this},search:function(){var e=this.$input.val().trim();e&&giteway.router.navigate("search/"+e,!0)},searchOnEnter:function(e){e.which===ENTER_KEY&&this.search()},request:function(){this.$input.val(this.model.keyword),this.$result.html("requesting...")}})})();